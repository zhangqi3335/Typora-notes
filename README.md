# 📦 Utility Scripts Collection

本仓库包含两个日常开发中常用的小工具脚本，用于 **GitHub 仓库备份自动化** 与 **Markdown 标题自动编号**。
 脚本均可独立使用，也可一起构成高效的编写文档与管理仓库的工作流。

------

## 📌 目录

- [backup.ps1](D:\资料\Typora学习库\backup.ps1)
  - 功能
  - 使用方法
  - 示例
- [sort_md.py](D:\资料\Typora学习库\sort_md.py)
  - 功能
  - 算法逻辑
  - 使用方法
  - 示例输出

------

# backup.ps1 — 本地仓库一键提交推送脚本

### 🚀 功能

`backup.ps1` 用于快速将当前 Git 仓库的修改 **自动 Add → Commit → Push 到 GitHub**。
 非常适合日常笔记、Typora 文档、课堂作业、嵌入式项目等需要频繁保存的场景。

### ✨ 特点

- 自动检测 Git 仓库
- 自动执行 `git add .`
- 自动构建提交信息（可手动传入备注）
- 自动 push 到远程仓库 `origin`
- 极大减少重复操作，提高开发效率

### 🧩 使用

在 Windows PowerShell 执行：

```powershell
.\backup.ps1 "更新了串口通信章节"
```

如不传参数，则脚本会生成默认提交信息：

```powershell
.\backup.ps1
```

### 📘 示例输出

```
✔ 所有文件已提交  
✔ 推送成功  
```

------

# sort_md.py — Markdown 标题自动编号脚本

### 🎯 功能

`sort_md.py` 会自动为 Markdown 文档中的 `# / ## / ### / #### / ##### / ######` 标题
 生成层级编号：

```
# 1 标题
## 1.1 子标题
### 1.1.1 内容
```

### 📐 编号规则

- **按文档中不同 `#` 数量的首次出现顺序** 构建层级结构
   （例如第一次出现 `#` → Level1，第一次出现 `###` → Level2）
- 每个层级维护自己的计数器
- 深层级变化时自动清零下级计数
- 保留原文所有缩进、空格及内容
- 不修改非标题文本
- 不生成 TOC

适用于：
 Typora / Obsidian / GitHub Wiki / 学习笔记 / 技术文档 / 项目报告

------

## ▶ 使用

```bash
python sort_md.py input.md
```

或指定输出文件：

```bash
python sort_md.py input.md output.md
```

脚本会生成：

```
input_sorted.md
```

------

## 📝 示例

原文：

```
# 串口通信
### 并行通信
#### 并行通信的1好
#### 并行通信的2好

### 串行通信
#### 串行通信的1好
#### 串行通信的2好
```

转换后：

```
# 1 串口通信
### 1.1 并行通信
#### 1.1.1 并行通信的1好
#### 1.1.2 并行通信的2好

### 1.2 串行通信
#### 1.2.1 串行通信的1好
#### 1.2.2 串行通信的2好
```

------

# 📄 License

本仓库脚本可自由使用、修改与分发。

如需加入更多 Markdown/文档自动化工具，可继续补充到此 README。

------

------

## ❤️ 作者

该工具集合由本人整理开发，用于提高 Markdown 文档管理与 Git 仓库备份效率，适合嵌入式文档、实验笔记、项目说明书等场景。